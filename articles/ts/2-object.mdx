---
title: "TypeScript æ•™å­¸ 2 - ç‰©ä»¶èˆ‡ä»‹é¢"
desc: "ä¸Šç¯‡è²¼æ–‡ä»‹ç´¹äº† Typescript çš„åŸºæœ¬ç”¨æ³•å’Œä¸€äº›ç‰¹æ€§ï¼Œé€™ç¯‡æ–‡ç« ä¸»è¬›æœ‰é—œç‰©ä»¶å‹åˆ¥çš„å®šç¾©æ–¹æ³•ï¼Œä¸»è¦å¯ä»¥åˆ†ç‚ºç›´æ¥å¯«ã€interfaceã€type å¹¾ç¨®æ–¹æ³•ï¼Œä»Šå¤©æœƒä»‹ç´¹å½¼æ­¤çš„ç”¨æ³•å’Œå·®ç•°ä»¥åŠæ‡‰ç”¨å ´æ™¯ï¼Œè®“æˆ‘å€‘å¾€ä¸‹çœ‹çœ‹å§ï½ï¼"
date: "2023-10-03"
isActive: true
---

ä¸Šç¯‡è²¼æ–‡ä»‹ç´¹äº† Typescript çš„åŸºæœ¬ç”¨æ³•å’Œä¸€äº›ç‰¹æ€§ï¼Œé€™ç¯‡æ–‡ç« ä¸»è¬›æœ‰é—œç‰©ä»¶å‹åˆ¥çš„å®šç¾©æ–¹æ³•ï¼Œä¸»è¦å¯ä»¥åˆ†ç‚ºç›´æ¥å¯«ã€interfaceã€classã€type å¹¾ç¨®æ–¹æ³•ï¼Œä»Šå¤©æœƒä»‹ç´¹å½¼æ­¤çš„ç”¨æ³•å’Œå·®ç•°ä»¥åŠæ‡‰ç”¨å ´æ™¯ï¼Œè®“æˆ‘å€‘å¾€ä¸‹çœ‹çœ‹å§ï½ï¼

## å¦‚ä½•å®šç¾©ç‰©ä»¶çš„å‹åˆ¥

æœ€ç°¡å–®çš„æ–¹å¼æ˜¯ç›´æ¥å¯«åœ¨å®£å‘Šçš„ç‰©ä»¶ä¸Š
```ts
const user: {
  name: string;
  age: number;
  getName: () => void;
} = {
  name: 'Jack',
  age: 18,
  getName() { console.log(this.name) }
}

user.getName(); // Jack
```

ä¹Ÿå¯ä»¥é€é `?` ä¾†è¡¨ç¤ºå¯é¸

```ts
const user: {
  name: string;
  age?: number; // ğŸ‘ˆ ? è¡¨ç¤ºä¸ä¸€å®šè¦å¡«å…¥ 
  getName: () => void;
} = {
  name: 'Jack',
  getName() { console.log(this.name) }
}
```
è¢«å®šç¾©çš„å‹åˆ¥å°±ä¸èƒ½è¢«åˆªæ‰äº†ï¼Œåªèƒ½ä¿®æ”¹ä»–çš„å€¼

```ts
delete user.name // âŒ å ±éŒ¯
user.name = 'Rose' // âœ… ä¸å ±éŒ¯
```

### readonly
å¦‚æœæˆ‘å€‘å¸Œæœ›ç‰©ä»¶çš„æŸå€‹å±¬æ€§ä¸èƒ½æ›´æ”¹ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Š `readonly` è¡¨æ˜¯å”¯è®€ï¼Œåªèƒ½åœ¨å®£å‘Šç‰©ä»¶æ™‚è³¦äºˆåˆå§‹å€¼ï¼Œè€Œä¸èƒ½åœ¨å¾ŒçºŒæ›´æ”¹ã€‚

```ts
const user: {
  readonly name: string; // ğŸ‘ˆ readonly è¡¨ç¤ºå”¯è®€
  age?: number; 
  getName: () => void;
} = {
  name: 'Jack',
  getName() { console.log(this.name) }
}

user.name = 'Rose' // âŒ å ±éŒ¯
```

### å±¬æ€§ç´¢å¼•
æœ‰æ™‚å€™ç‰©ä»¶çš„å±¬æ€§éå¸¸å¤šï¼Œè€Œä¸”æˆ‘å€‘ä¸ä¸€å®šèƒ½æ˜¯å…ˆçŸ¥é“ç‰©ä»¶çš„å±¬æ€§æœ‰å¤šå°‘ï¼Œæ­¤æ™‚å¯ä»¥ä½¿ç”¨é€™å€‹å¯«æ³•
```ts
const user: {
  [property: string]: string; // ğŸ‘ˆ
} = {
  name: 'Jack',
  age: '23'
}
```

æˆ‘å€‘ä¹Ÿå¯ä»¥é€™æ¨£ä¾†è¡¨ç¤ºä»»æ„çš„å±¬æ€§

```ts
const user: {
  [property: string]: any; // ğŸ‘ˆ
} = {
  name: 'Jack',
  age: 23
}
```
ä¸éæˆ‘ä¸¦ä¸å»ºè­°é€™ç¨®å¯«æ³•ï¼Œå› ç´„æŸå¤ªå°‘ï¼Œä½¿ç”¨èµ·ä¾†ç”¨ä¸å¤ªæ–¹ä¾¿ã€‚


åˆ°é€™é‚Šä¸çŸ¥é“ä½ æœ‰æ²’æœ‰ç™¼ç¾ä¸€å€‹å•é¡Œï¼Œå¦‚æœæˆ‘å€‘è¦å®£å‘Šå¾ˆå¤šç›¸åŒçš„ç‰©ä»¶æ™‚ï¼Œé›£é“æ¯å€‹ç‰©ä»¶éƒ½è¦é‡æ–°å®šç¾©å‹åˆ¥å—ï¼Ÿ

ç•¶ç„¶ä¸ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘ç”¨åˆ° `interface` ä¾†å¹«åŠ©æˆ‘å€‘è§£æ±ºé€™å€‹å•é¡Œã€‚

## interface ä»‹é¢ (æ¥å£)
åœ¨ç¨‹å¼èªè¨€ä¸­ï¼Œä»‹é¢æ˜¯å¾ˆé‡è¦çš„è§€å¿µï¼Œåªæ˜¯å‰ç«¯æ¯”è¼ƒå°‘æ¥è§¸åˆ°ï¼Œä»‹é¢ä»£è¡¨çš„æ˜¯ä¸€å€‹ç‰©ä»¶çš„è¡Œçµæ§‹ã€‚

æ›å¥è©±èªªï¼Œå°±æ˜¯**æˆ‘å€‘ç”¨ä»‹é¢å®šç¾©ç‰©ä»¶çš„çµæ§‹(å±¬æ€§ä»¥åŠæ–¹æ³•ï¼Œä½†ä¸åŒ…å«æ–¹æ³•å…·é«”çš„ç´°ç¯€)**ã€‚

ä½ å¯èƒ½æœ‰è½é**æŠ½è±¡åŒ–**é€™æ¨£çš„åè©ï¼Œä»‹é¢å°±æ˜¯æ‰€è¬‚çš„æŠ½è±¡åŒ–ï¼Œæˆ‘å€‘åªç®¡ç‰©ä»¶çš„çµæ§‹ï¼Œä¸ç®¡ç´°ç¯€ï¼Œä¹Ÿå°±æ˜¯**æˆ‘å€‘æŠŠç´°ç¯€æŠ½è±¡åŒ–å‡ºä¾†äº†è®Šæˆä»‹é¢**ã€‚é€™æ¨£çš„å¥½è™•æ˜¯æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§ã€å¯ç¶­è­·æ€§å’Œå¯æ“´å±•æ€§ï¼ŒåŒæ™‚ç¢ºä¿äº†ç¨‹å¼ç¢¼çš„ä¸€è‡´æ€§ã€‚

åœ¨ JS ä¸­æ˜¯æ²’æœ‰ interface é€™å€‹èªæ³•çš„ï¼Œæ˜¯ TS æ–°å¢çš„ï¼Œè¬›äº†é€™éº¼å¤šï¼Œä¾†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å§ï¼

```ts
interface User {
  readonly name: string; // ğŸ‘ˆ readonly è¡¨ç¤ºå”¯è®€
  age?: number;          // ğŸ‘ˆ ? è¡¨ç¤ºä¸ä¸€å®šè¦å¡«å…¥ 
  getName: () => void;
  [property: string]: any; // ğŸ‘ˆ ä¹Ÿèƒ½å’Œå‰é¢ä¸€æ¨£è¡¨ç¤ºä»»æ„å±¬æ€§
}

let user1: User = {
  name: 'Jack',
  age: 18,
  getName() { console.log(this.name) }
};

let user2: User = {
  name: 'Rose',
  age: 24,
  getName() { console.log(this.name) }
}
```

åœ¨ä¸Šé¢ï¼Œæˆ‘å€‘å…ˆç”¨ interface å®šç¾©å‡ºäº† `User` ä»‹é¢ï¼Œä¸¦æŒ‡å®š `user1`ã€`user2` çš„å‹åˆ¥ç‚º `User`ï¼Œé€™æ¨£å°±é”åˆ°è¤‡ç”¨çš„æ•ˆæœäº†ã€‚ä¸¦ä¸”å’Œä¸Šé¢ä»‹ç´¹çš„ä¸€æ¨£ï¼Œå¯ä»¥ä½¿ç”¨ `readonly`ã€`?`ã€å±¬æ€§ç´¢å¼•ï¼Œç­‰é—œéµå­—ã€‚

è¦æ³¨æ„çš„æ˜¯ï¼Œinterface æˆ‘å€‘ç¿’æ…£ä½¿ç”¨å¤§å¯«è¡¨ç¤ºï¼Œæœ‰äº›äººç¿’æ…£åœ¨å‰é¢åŠ ä¸Š `I` ä¾†è¡¨ç¤ºä»‹é¢ã€‚
```ts
interface IUser { ... } // ğŸ‘ˆ åå­—å‰é¢åŠ ä¸Š I è¡¨ç¤ºä»‹é¢ã€‚
```

## extends ç¹¼æ‰¿
åœ¨ OOP (ç‰©ä»¶å°å‘)ä¸­ï¼Œç¹¼æ‰¿æ˜¯å¾ˆé‡è¦çš„è§€å¿µï¼ŒJS èº«ç‚º OOP çš„ä¸€å“¡ï¼Œä¹Ÿæœ‰é€™æ–¹é¢çš„é—œéµå­—ï¼Œåªæ˜¯å¹³å¸¸å¯èƒ½æ¯”è¼ƒå°‘ç”¨åˆ°ï¼Œè€Œ TS ç•¶ç„¶ä¹Ÿä¸æœƒéŒ¯éé€™æ¨£é‡è¦çš„ç”¨æ³•ã€‚

å¦‚æœæˆ‘å€‘ç¾åœ¨æœ‰å¦ä¸€å€‹ interface æ˜¯ `VIP`ï¼Œè£¡é¢ä¹Ÿæœ‰ `name`ã€`age` å±¬æ€§ï¼Œé›£é“æˆ‘å€‘è¦é‡æ–°å¯«ä¸€éå—ï¼Ÿç•¶ç„¶ä¸ç”¨ï¼Œç›´æ¥ç¹¼æ‰¿å°±å¥½ã€‚

```ts
interface User {
  readonly name: string;
  age: number;          
  getName: () => void;
}

interface VIP extends User {  // ğŸ‘ˆ ç¹¼æ‰¿
  id: number,
  level: number,
}

const vip1: VIP = {
  name: 'Jack',
  age: 23,
  getName() {console.log(this.name)},
  id: 0,
  level: 1
}
```
ä¸Šé¢æˆ‘å€‘å®šç¾©äº† `VIP` ä»‹é¢ï¼Œä»–æœƒç¹¼æ‰¿ `User` çš„å±¬æ€§ï¼Œé€™æ¨£çš„å¥½è™•æ˜¯æˆ‘å€‘ä¸ç”¨ä¸æ–·é‡è¤‡å¯«ä¸€æ¨£çš„å±¬æ€§åå­—äº†